# This file was generated by GoReleaser. DO NOT EDIT.
cask "run-mcp" do
  name "run-mcp"
  desc "A fast, portable, single-binary security scanner for the Model Context Protocol (MCP)."
  homepage "https://github.com/ensigniasec/run-mcp"
  version "0.1.4"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "run-mcp"

  on_macos do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_x86_64.tar.gz"
      sha256 "39999d827f979da367a3285377e3cc45c07df29730ecfaf395e888a2bb2c6d5b"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_arm64.tar.gz"
      sha256 "fbc1ca4f075d583911ca9fe2bb91cbc94deeb418d9acb03a2a09cb9ba9cbe509"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_x86_64.tar.gz"
      sha256 "95fbc4533229ffb3e0f5eb4a33e5c7066dd2ff60e1e048150ef9a1aae0dfef5c"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_arm64.tar.gz"
      sha256 "c318623f61f3ebc7d927c6dc6fbb2a0a09d9d578ac56eca4de6d4c8f2da97f35"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/run-mcp"], sudo: true
    end
  end

  uninstall delete: [
      "~/.run-mcp/results.json",
      "~/.run-mcp",
      "~/Library/Application Support/run-mcp",
      "~/Library/Application Support/run-mcp/results.json",
    ]

  # No zap stanza required
end
