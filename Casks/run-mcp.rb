# This file was generated by GoReleaser. DO NOT EDIT.
cask "run-mcp" do
  name "run-mcp"
  desc "A fast, portable, single-binary security scanner for the Model Context Protocol (MCP)."
  homepage "https://github.com/ensigniasec/run-mcp"
  version "0.1.6"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "run-mcp"

  on_macos do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_x86_64.tar.gz"
      sha256 "eaadee46216075eed2b3128b865fbe1d2b9076c623a0e17b1db20af48df09dd9"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_arm64.tar.gz"
      sha256 "2421fa0d6300ebf6c0fe4ea8608ff3edf4061ac8dbc17f4cbb2bddb83b75c467"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_x86_64.tar.gz"
      sha256 "7e899c437f236401acb72e84173541b7c30046df8b57ecd7c2732c1236b5ddde"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_arm64.tar.gz"
      sha256 "9e11160ab37ae12096d68aab9c9d9e8336e17c73c4e751930bae36c4723e0581"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/run-mcp"], sudo: true
    end
  end

  uninstall delete: [
      "~/.run-mcp/results.json",
      "~/.run-mcp",
      "~/Library/Application Support/run-mcp",
      "~/Library/Application Support/run-mcp/results.json",
    ]

  # No zap stanza required
end
