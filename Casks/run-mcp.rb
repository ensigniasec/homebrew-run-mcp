# This file was generated by GoReleaser. DO NOT EDIT.
cask "run-mcp" do
  name "run-mcp"
  desc "A fast, portable, single-binary security scanner for the Model Context Protocol (MCP)."
  homepage "https://github.com/ensigniasec/run-mcp"
  version "0.1.6"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "run-mcp"

  on_macos do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_x86_64.tar.gz"
      sha256 "63bd9272f15920bd70fe8e392497b71d660d629844c00310d05d79f892bd22b2"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Darwin_arm64.tar.gz"
      sha256 "a7d6a3f63485dbac822f29c664a0fe2e2af690e2f136c271bd9e981b7a054c96"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_x86_64.tar.gz"
      sha256 "10e53fb687fee4b543b848f45eddc8c3c0801545d163c0974dc455bb474dcaca"
    end
    on_arm do
      url "https://github.com/ensigniasec/run-mcp/releases/download/v#{version}/run-mcp_Linux_arm64.tar.gz"
      sha256 "416819a9289b29ee0f07216f7f97cb15ccaf852f659a50ade62155cab634b6da"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/run-mcp"], sudo: true
    end
  end

  uninstall delete: [
      "~/.run-mcp/results.json",
      "~/.run-mcp",
      "~/Library/Application Support/run-mcp",
      "~/Library/Application Support/run-mcp/results.json",
    ]

  # No zap stanza required
end
